def list_client_lists(session, base_url):
    """
    Lists all accessible client lists using /client-list/v1/lists
    """
    url = urljoin(base_url, "/client-list/v1/lists?includeItems=true&includeDeprecated=true")
    headers = {"Accept": "application/json"}
    resp = session.get(url, headers=headers)

    if not resp.ok:
        raise Exception(f"[ERROR] {resp.status_code}: {resp.text}")

    print(f"[OK] Retrieved {len(resp.json().get('content', []))} client list blocks")

    for cl in resp.json().get("content", []):
        list_items = cl.get("items", [])
        print(f"\n[CLIENT LIST] Group: {cl.get('groupName')} | Created: {cl.get('createdDate')}")
        for item in list_items:
            print(f"  - {item.get('description')} (Status: {item.get('productionStatus')})")

 list_client_lists(session, base_url)
