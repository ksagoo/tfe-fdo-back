#!/usr/bin/env python3
"""
===============================================================================
   Akamai Entitlement Validator Suite  (v2.0 Final)
===============================================================================

   Description:
   ---------------------------------------------------------------------------
   Validates entitlements for a given FQDN and Access Group across Akamai:
       • CPS    (Certificate Provisioning System)
       • AppSec (Application Security Configurations)
       • PAPI   (Property Manager API)

   The validator checks whether a hostname (FQDN) and access group pairing
   is authorized across Akamai platforms by detecting:
       - Full matches   → FQDN and Access Group both align
       - Partial matches → Only one element aligns (FQDN or Access Group)

   Generates both:
       • A human-readable terminal summary
       • A structured JSON report saved under:
           ./output/entitlement_summary_<fqdn>.json

   ---------------------------------------------------------------------------
   Usage:
       python akamai_entitlement_validator-v2.py \
           --section <ENV_SECTION> \
           --fqdn <FQDN> \
           --access-group <ACCESS_GROUP> \
           [--debug]

   Example:
       python akamai_entitlement_validator-v2.py \
           --section DEV \
           --fqdn epspos-dev-059test.hsbc.com.hk \
           --access-group ServiceNow-itilUser \
           --debug

   ---------------------------------------------------------------------------
   Arguments:
       --section        Environment section name (e.g. DEV, PROD)
       --fqdn           Fully Qualified Domain Name to validate
       --access-group   Access group or role for entitlement check
       --debug          Enables detailed output and raw JSON capture

   Exit Codes:
       0 = Authorized (Full or Mixed Match)
       1 = Unauthorized (No Valid Entitlement Found)

   ---------------------------------------------------------------------------
   Author:    <Your Name / Team>
   Created:   October 2025
   Version:   2.0 Final
===============================================================================
"""
