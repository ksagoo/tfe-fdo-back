"""
===========================================================
               Akamai AppSec Onboarding Automation
===========================================================

Description:
Automates the onboarding of Akamai Application Security configurations.

Core Capabilities:
- Creation of Security Configs and Policies (NonProd and Prod)
- Cloning and reassignment of:
  • Match targets
  • Custom rules
  • Rate limits
  • Client lists
  • Reputation profiles
  • Bot category actions
  • WAF rule exceptions and overrides
  • Slow POST protections
  • Geo/IP/ASN ACLs
  • DoS rate protection policies
- Section-aware logic for scoped reassignments
- Environment-specific bypass list selection (Dev, PreProd, Prod)
- Client list activation with optional polling logic
- Config and policy activation in staging (and optionally in production)
- Consolidation of hostnames for Prod policies
- Summary output per module
- Optional version note tagging using Jira reference

Recent Enhancements:
- Activation now uses POST `/client-list/v1/lists/{id}/activations` with payload
- Polling logic checks `/environments/{env}/status` for `activationStatus`
- Improved client list renaming: uses `SC-<access_group> <suffix>` pattern
  • Special handling for Reputation Allowlist templates
- Optional waiting for “Rate Controls Bypass List” (or all lists) via CLI flag
- Optional production activation after successful staging
- `--version-notes` flag adds change ticket to config version metadata
- Hostnames consolidated at the Security Config level during Prod onboarding

Usage Example:
  python akamai_appsec_onboarding_complete.py \
    --section <SECTION> \
    --access_group <ACCESS_GROUP> \
    --fqdn <FQDN> \
    --template_config_name <TEMPLATE_NAME> \
    --isProd <true|false> \
    [--version-notes <JIRA_ISSUE>] \
    [--wait-for-all-client-list-activations] \
    [--activate-client-lists-in-production]

Requirements:
- Python 3.x
- Valid Akamai API credentials (.edgerc) with group-level access

Metadata:
- Created: June 2025
- Last Updated: October 2025
  (activation logic, client list cloning, version notes, Prod FQDN consolidation)
- License: Internal Use Only — HSBC / Akamai Automation
===========================================================
"""
