from urllib.parse import urljoin

def activate_client_list(session, base_url, list_id, network="STAGING", comment="", notification_email=None):
    """
    Activates the specified client list in the given network (STAGING or PRODUCTION).
    """
    activate_url = urljoin(base_url, f"/client-list/v1/lists/{list_id}/activations")
    headers = {
        "accept": "application/json",
        "content-type": "application/json"
    }

    payload = {
        "action": "ACTIVATE",
        "network": network,
        "comments": comment or f"Automated activation of list {list_id}",
    }

    if notification_email:
        payload["notificationRecipients"] = [notification_email]

    try:
        response = session.post(activate_url, headers=headers, json=payload)
        response.raise_for_status()
        print(f"[INFO] Activation triggered for list {list_id} in {network}")
        return True
    except requests.exceptions.HTTPError:
        print(f"[ERROR] Activation failed â€” Status: {response.status_code}, Body: {response.text}")
    except Exception as e:
        print(f"[ERROR] Unexpected error during activation: {e}")

    return False
